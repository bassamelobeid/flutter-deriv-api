<script>
    \$(document).ready(function() {
        \$('#all_payment_types'      ).click(function(){\$('input[name=payment_type]').removeAttr('checked')});
        \$('input[name=payment_type]').click(function(){\$('#all_payment_types'      ).removeAttr('checked')});
    })
</script>

<style>
    div.brick { display: inline-block; width:150px }
    div.brick input { margin: 0 }
</style>

    <h4>Clients Report</h4>
    <form action="[%request.url_for('backoffice/monthly_client_report.cgi')%]" method="post">
        <input type="hidden" name="broker" value="[%request.broker_code%]"/>
        <select name="crdr">
            <option value="debit">All Debits and Contract-Buys</option>
            <option value="credit">All Credits and Contract-Sells</option>
        </select>
        Run Month: <input size="8" name="yyyymm" value="$yyyymm"/> e.g. 2014-12
        &nbsp;&nbsp;&nbsp;
        <input type="submit" value="Download CSV File"/>
        All Currencies for Broker code [%request.broker_code%] will be included.
    </form>
    <hr/>
    [%
        SET payment_types = [
            [ 'adjustment',         'Adjustment' ],
            [ 'affiliate_reward',   'Affiliate Reward' ],
            [ 'bank_money_transfer','Bank Wire' ],
            [ 'adjustment_purchase','Contract Purchase Adjustment' ],
            [ 'adjustment_sale'     'Contract Sale Adjustment' ],
            [ 'cancellation',       'Cancellation' ],
            [ 'closed_account',     'Closed Account' ],
            [ 'dormant_fee',        'Dormant Fee' ],
            [ 'external_cashier',   'Doughflow' ],
            [ 'free_gift',          'Free Gift' ],
            [ 'internal_transfer',  'Internal Transfer' ],
            [ 'payment_fee',        'Payment Fee' ],
            [ 'cash_transfer',      'Western Union' ],
            [ 'arbitrary_payment',  'Arbitrary Markup Payment' ],
        ];
    %]

    <h4>Payments Report</h4>
    Select any of these payment types..
    <form action="[%request.url_for('backoffice/monthly_payments_report.cgi')%]" method="post">
        <input type="hidden" name="broker" value="[%request.broker_code%]"/>
        [% FOR pt IN payment_types %]
            <div class="brick">
                <input type="checkbox" name="payment_type" value="[%pt.0%]" id="[%pt.0%]"/>
                <label for="[%pt.0%]" title="[%pt.0%]">[%pt.1%]</label>
            </div>
        [% END %]
        <div class="brick">
            <input type="checkbox" name="all_payment_types" id="all_payment_types"/>
            <label for="all_payment_types" title="(including obsolete types)">ALL</label>
        </div>
        <br/><br/>
        Run Month: <input size="8" name="yyyymm" value="$yyyymm"/> e.g. 2014-12
        &nbsp;&nbsp;&nbsp;
        <input type="submit" value="Download CSV File"/>
        All Currencies for Broker code [%request.broker_code%] will be included.
    </form>
