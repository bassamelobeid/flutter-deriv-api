# The Format of this file is as follows:
# [%next if time>1000%]!landing_company_details/test_send.json,landing_company_details/test_receive_costarica.json, 'virtual'
# you can define a test that must fail by adding an exclamation mark at the start of the line:
# !send_file,receive_file,template_function
# if ! is at the start of line test must fail
# To set language just start a line in the following format
# [XX]
# Note: Changing language will create a new websocket session. This means authorization and setup for previous session will be lost.
# To start a new websocket connection (in case rate limit is reached etc) use {reset}
# To start a stream use '{start_stream:any_not_exists_key}balance/test_send_subscribe.json,balance/test_receive.json'
# To test a last stream message use '{test_last_stream_message:any_exists_key}balance/test_stream_message_1.json'

[EN]

# TRADER VIRTUAL ACCOUNT OPENING FOR (CR)
verify_email/test_send.json,verify_email/test_receive.json, 'trader@binary.com', 'account_opening'
new_account_virtual/test_send.json,new_account_virtual/test_receive.json,_get_token('trader@binary.com'), 'trader@binary.com', 'id'
authorize/test_send.json,authorize/test_receive_vrtc.json,_get_stashed('new_account_virtual/new_account_virtual/oauth_token'), 'trader@binary.com'

# TRADER REAL ACCOUNT OPENING (CR)
new_account_real/test_send.json,new_account_real/test_receive_cr.json, 'Peter', 'id'
authorize/test_send.json,authorize/test_receive_cr.json,_get_stashed('new_account_real/new_account_real/oauth_token'),'trader@binary.com','Peter'

copytrading_statistics/test_send.json,copytrading_statistics/test_receive_trader_does_not_allow_copiers.json, _get_stashed('authorize/authorize/loginid')
set_settings/test_send.json,set_settings/test_receive.json
copytrading_statistics/test_send.json,copytrading_statistics/test_receive_trader_has_no_account.json, _get_stashed('authorize/authorize/loginid')

[% _free_gift(_get_stashed('new_account_real/new_account_real/client_id')) %]balance/test_send.json,balance/test_receive.json, '10000\\.00', 'USD', _get_stashed('authorize/authorize/loginid')

proposal/test_send_buy.json,proposal/test_receive_buy.json
buy/test_send.json,buy/test_receive.json,_get_stashed('proposal/proposal/id'), '99\\d{2}\\.\\d{2}'
balance/test_send.json,balance/test_receive.json, '99\\d{2}\\.\\d{2}', 'USD', _get_stashed('authorize/authorize/loginid')

copytrading_statistics/test_send.json,copytrading_statistics/test_receive.json, _get_stashed('authorize/authorize/loginid')

api_token/test_send_create_read.json,api_token/test_receive_create_read.json, 'test'
api_token/test_send.json,api_token/test_receive_read.json,_get_stashed('api_token/api_token/tokens/0/token')

# SET ALLOW_COPIERS FLAG
set_settings/test_send.json,set_settings/test_receive.json

# COPIER VIRTUAL ACCOUNT OPENING FOR (CR)
verify_email/test_send.json,verify_email/test_receive.json, 'copier@binary.com', 'account_opening'
new_account_virtual/test_send.json,new_account_virtual/test_receive.json,_get_token('copier@binary.com'), 'copier@binary.com', 'id'
authorize/test_send.json,authorize/test_receive_vrtc.json,_get_stashed('new_account_virtual/new_account_virtual/oauth_token'), 'copier@binary.com'

# COPIER REAL ACCOUNT OPENING (CR)
new_account_real/test_send.json,new_account_real/test_receive_cr.json, 'Vasya', 'id'
authorize/test_send.json,authorize/test_receive_cr.json,_get_stashed('new_account_real/new_account_real/oauth_token'),'copier@binary.com','Vasya'

[% _free_gift(_get_stashed('new_account_real/new_account_real/client_id')) %]balance/test_send.json,balance/test_receive.json, '10000\\.00', 'USD', _get_stashed('authorize/authorize/loginid')

copy_start/test_send.json,copy_start/test_receive.json,_get_stashed('api_token/api_token/tokens/0/token')
copy_stop/test_send.json,copy_stop/test_receive.json,_get_stashed('api_token/api_token/tokens/0/token')