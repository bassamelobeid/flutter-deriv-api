{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Affiliate: Register (request)",
    "description": "Register a new affiliate",
    "hidden": 1,
    "type": "object",
    "auth_required": 1,
    "auth_scopes": [
        "admin"
    ],
    "additionalProperties": false,
    "required": [
        "affiliate_account_add",
        "address_city",
        "address_line_1",
        "address_postcode",
        "address_state",
        "country",
        "first_name",
        "last_name",
        "non_pep_declaration",
        "password",
        "phone",
        "tnc_accepted",
        "username"
    ],
    "properties": {
        "affiliate_account_add": {
            "description": "[Required] Must be `1`",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "address_city": {
            "description": "City name within 50 characters.",
            "type": "string",
            "pattern": "^\\p{L}[\\p{L}\\s'.-]{0,49}$"
        },
        "address_line_1": {
            "description": "Within 70 characters, with no leading whitespaces and may contain letters/numbers and/or any of following characters '.,:;()@#/-",
            "type": "string",
            "pattern": "^[\\p{L}\\p{Nd}'.,:;()\\x{b0}@#/-][\\p{L}\\p{Nd}\\s'.,:;()\\x{b0}@#/-]{0,69}$"
        },
        "address_line_2": {
            "description": "[Optional] Within 70 characters.",
            "type": "string",
            "pattern": "^[\\p{L}\\p{Nd}\\s'.,:;()\\x{b0}@#/-]{0,70}$"
        },
        "address_postcode": {
            "description": "Within 20 characters and may not contain '+'.",
            "type": "string",
            "pattern": "^([A-Za-z0-9][A-Za-z0-9\\s-]{0,20})?$"
        },
        "address_state": {
            "description": "Possible value receive from `states_list` call.",
            "type": "string",
            "pattern": "^[\\p{L}\\p{Nd}\\s'.,-]{0,100}$"
        },
        "country": {
            "description": "Country of legal citizenship, 2-letter country code.",
            "type": "string",
            "pattern": "^([a-z]{2})?$"
        },
        "first_name": {
            "description": "The official first name of the affiliate. Within 2-50 characters, use only letters, spaces, hyphens, full-stops or apostrophes.",
            "type": "string",
            "pattern": "^(?!.*\\s{2,})[\\p{L}\\s'.-]{2,50}$"
        },
        "last_name": {
            "description": "The official last name of the affiliate. Within 2-50 characters, use only letters, spaces, hyphens, full-stops or apostrophes.",
            "type": "string",
            "pattern": "^(?!.*\\s{2,})[\\p{L}\\s'.-]{2,50}$"
        },
        "non_pep_declaration": {
            "description": "Indicates client's self-declaration of not being a PEP/RCA (Politically Exposed Person/Relatives and Close Associates).",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "password": {
            "description": "Password for the affiliate account. (Accepts any printable ASCII character. Must be between 6-50 characters, and include numbers, lowercase and uppercase letters.).",
            "type": "string",
            "pattern": "^(?=.*[a-z])(?=.*[0-9])(?=.*[A-Z])[ -~]{6,50}$",
            "sensitive": 1
        },
        "phone": {
            "description": "Registered phone number of the affiliate. Starting with `+` followed by 8-35 digits, allowing hyphens or space.",
            "type": "string",
            "pattern": "^\\+((-|\\s)*[0-9]){8,35}$"
        },
        "tnc_accepted": {
            "description": "Indicates client has agreed to the terms and conditions.",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "username": {
            "description": "Desired username for the affiliate account. Within 2-50 characters, use only letters, spaces, hyphens, full-stops or apostrophes.",
            "type": "string",
            "pattern": "^(?!.*\\s{2,})[\\p{L}\\s'.-]{2,50}$"
        },
        "passthrough": {
            "description": "[Optional] Used to pass data through the websocket, which may be retrieved via the `echo_req` output field.",
            "type": "object"
        },
        "req_id": {
            "description": "[Optional] Used to map request to response.",
            "type": "integer"
        }
    }
}
