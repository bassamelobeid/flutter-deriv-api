{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "title": "Open contract proposal response",
  "description": "Corporate actions for an open contract in the user's portfolio",
  "properties": {
    "echo_req": {
      "title": "Echo request",
      "description": "Echo of the request made"
    },
    "get_corporate_actions": {
      "type": "object",
      "title": "Get corporate actions response",
      "description": "Corporate actions for an open contract",
      "properties": {
        "contract_id": {
          "type": "integer",
          "description": "Binary.com internal contract identifier"
        },
        "contract_type": {
          "type": "string",
          "description": "Contract type, for example CALL, PUT"
        },
        "currency": {
          "type": "string",
          "description": "Example: USD"
        },
        "longcode": {
          "type": "string",
          "description": "Text description of the bet purchased, Example: USD 90.00 payout if Random 100 Index is strictly higher than entry spot at 10 minutes after contract start time."
        },
        "payout": {
          "type": "number",
          "description": "Example: 10.50"
        },
        "shortcode": {
          "type": "string",
          "description": "Coded description of the bet purchased, Example: CALL_R_100_90_1446704187_1446704787_S0P_0"
        },
        "underlying": {
          "type": "string",
          "description": "Example: FPFP"
        },
        "display_name": {
          "type": "string",
          "description": "Display name of underlying"
        },
        "is_double_barrier": {
          "type": "integer",
          "description": "Boolean 0 or 1"
        },
        "original_barrier": {
          "type": "object",
          "description": "Original barrier of the contract before adjustment due to corporate actions.",
          "properties":{
            "barrier": {
              "type": "integer",
              "description": "Original barrier for single barrier option."
            },
            "high_barrier": {
              "type": "integer",
              "description": "Original high barrier for double barrier option."
            },
            "low_barrier": {
              "type": "integer",
              "description": "Original low barrier for double barrier option."
            }
          }
        },
        "adjusted_barrier": {
          "type": "object",
          "description": "Adjusted barrier of the contract after adjustment due to corporate actions.",
          "properties":{
            "barrier": {
              "type": "integer",
              "description": "Adjusted barrier for single barrier option."
            },
            "high_barrier": {
              "type": "integer",
              "description": "Adjusted high barrier for double barrier option."
            },
            "low_barrier": {
              "type": "integer",
              "description": "Adjusted low barrier for double barrier option."
            }
          } 
        }
      }
    },
    "msg_type": {
      "type": "string",
      "description": "get_corporate_actions"
    },
    "req_id": {
      "type": "integer",
      "description": "Optional field send in request to map to response, present only when request contains req_id"
    }
  },
  "required": [
    "echo_req",
    "get_corporate_actions",
    "msg_type"
  ]
}
