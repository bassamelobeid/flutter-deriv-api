name: My reusable workflow
on:
  workflow_call:
    inputs:
      env_vars:
        description: List of environment variables to set up, given in env=value format.
        required: false
        type: string

jobs:
  my-job:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash -le {0}
    env:
      LOG_LEVEL: debug
    steps:
      - name: Set environment variables
        if: ${{ inputs.env_vars }}
        run: |
          for i in "${{ inputs.env_vars }}"
          do
            echo "$i" >> "$GITHUB_ENV"
          done
      - name: Use the value
        run: |
          echo "${{ env.env1 }}"