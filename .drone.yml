kind: pipeline
type: docker
name: core

clone:
  disable: true

image_pull_secrets:
- dockerconfig

steps:
- name: core
  image: regentmarkets/drone-git
  pull: always
  settings:
    ssh_key:
      from_secret: ssh_key
  commands:
  - /opt/ci/run.sh make test

---
kind: pipeline
type: docker
name: syntax

clone:
  disable: true

image_pull_secrets:
- dockerconfig

steps:
- name: syntax
  image: regentmarkets/drone-git
  pull: always
  settings:
    ssh_key:
      from_secret: ssh_key
  commands:
  - /opt/ci/run.sh make syntax

---
kind: pipeline
type: docker
name: unit

clone:
  disable: true

image_pull_secrets:
- dockerconfig

steps:
- name: unit
  image: regentmarkets/drone-git
  pull: always
  settings:
    ssh_key:
      from_secret: ssh_key
  commands:
  - /opt/ci/run.sh make unit
