{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Affiliate: Register (request)",
    "description": "Register a new affiliate",
    "hidden": 1,
    "type": "object",
    "auth_required": 0,
    "auth_scopes": [],
    "additionalProperties": false,
    "required": [
        "affiliate_add_company",
        "address_city",
        "address_postcode",
        "address_state",
        "address_street",
        "citizenship",
        "company_name",
        "company_register_number",
        "country",
        "currency",
        "date_of_birth",
        "first_name",
        "last_name",
        "non_pep_declaration",
        "password",
        "phone",
        "tnc_accepted",
        "tnc_affiliate_accepted",
        "verification_code"
    ],
    "properties": {
        "affiliate_add_company": {
            "description": "[Required] Must be `1`",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "address_city": {
            "description": "City name within 50 characters.",
            "type": "string",
            "pattern": "^\\p{L}[\\p{L}\\s'.-]{0,49}$"
        },
        "address_postcode": {
            "description": "Within 20 characters and may not contain '+'.",
            "type": "string",
            "pattern": "^([A-Za-z0-9][A-Za-z0-9\\s-]{0,20})?$"
        },
        "address_state": {
            "description": "Possible value receive from `states_list` call.",
            "type": "string",
            "pattern": "^[\\p{L}\\p{Nd}\\s'.,-]{0,100}$"
        },
        "address_street": {
            "description": "Within 70 characters, with no leading whitespaces and may contain letters/numbers and/or any of following characters '.,:;()@#/-",
            "type": "string",
            "pattern": "^[\\p{L}\\p{Nd}'.,:;()\\x{b0}@#/-][\\p{L}\\p{Nd}\\s'.,:;()\\x{b0}@#/-]{0,69}$"
        },
        "bta": {
            "description": "[Optional] BTA id field for master affiliate.",
            "type": "integer"
        },
        "citizenship": {
            "description": "Country of citizenship, 2-letter country code.",
            "type": "string",
            "pattern": "^([a-z]{2})?$"
        },
        "company_name": {
            "description": "Name of the company.",
            "type": "string",
            "pattern": "^\\w{3,128}$",
            "sensitive": 1
        },
        "company_register_number": {
            "description": "Social media URL of the affiliate trying to register.",
            "type": "string",
            "pattern": "^\\w{3,128}$",
            "sensitive": 1
        },
        "country": {
            "description": "Name of the country that currently reside, 2-letter country code.",
            "type": "string",
            "pattern": "^([a-z]{2})?$"
        },
        "currency": {
            "description": "Currency of affiliate that wants to work with.",
            "type": "string",
            "pattern": "^([A-Z]{3})?$"
        },
        "date_of_birth": {
            "description": "Birth date of affiliate user trying to register",
            "type": "string",
            "pattern": "^[0-9]{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[0-1])$"
        },
        "first_name": {
            "description": "The official first name of the affiliate. Within 1-50 characters, use only letters, spaces, hyphens, full-stops or apostrophes.",
            "type": "string",
            "pattern": "^(?!.*\\s{2,})[\\p{L}\\s'.-]{1,50}$",
            "sensitive": 1
        },
        "last_name": {
            "description": "The official last name of the affiliate. Within 1-50 characters, use only letters, spaces, hyphens, full-stops or apostrophes.",
            "type": "string",
            "pattern": "^(?!.*\\s{2,})[\\p{L}\\s'.-]{1,50}$",
            "sensitive": 1
        },
        "non_pep_declaration": {
            "description": "Indicates client's self-declaration of not being a PEP/RCA (Politically Exposed Person/Relatives and Close Associates).",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "password": {
            "description": "Password for the affiliate account. (Accepts any printable ASCII character. Must be between 6-50 characters, and include numbers, lowercase and uppercase letters.).",
            "type": "string",
            "pattern": "^(?=.*[a-z])(?=.*[0-9])(?=.*[A-Z])[ -~]{6,50}$",
            "sensitive": 1
        },
        "phone": {
            "description": "Registered phone number of the affiliate. Starting with `+` followed by 8-35 digits, allowing hyphens or space.",
            "type": "string",
            "pattern": "^\\+((-|\\s)*[0-9]){8,35}$",
            "sensitive": 1
        },
        "promote_eu": {
            "description": "Indicates client is going to promote its account to EU or not.",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "receive_marketing_emails": {
            "description": "Indicates client has agreed to receive marketing emails or not.",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "social_media_url": {
            "description": "Social media URL of the affiliate trying to register.",
            "type": "string",
            "pattern": "^[0-9A-Za-z.-]{5,250}$",
            "sensitive": 1
        },
        "tnc_accepted": {
            "description": "Indicates client has agreed to the terms and conditions.",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "tnc_affiliate_accepted": {
            "description": "Indicates client has agreed to the terms and conditions for affiliates.",
            "type": "integer",
            "enum": [
                1
            ]
        },
        "verification_code": {
            "description": "Email verification code (received from a `verify_email` call, which must be done first).",
            "type": "string",
            "pattern": "^\\w{8,128}$"
        },
        "website_url": {
            "description": "Social media URL of the affiliate trying to register.",
            "type": "string",
            "pattern": "^[0-9A-Za-z.-]{5,250}$",
            "sensitive": 1
        },
        "loginid": {
            "description": "[Optional] The login id of the user. If left unspecified, it defaults to the initial authorized token's login id.",
            "type": "string",
            "pattern": "^[A-Za-z]+[0-9]+$"
        },
        "passthrough": {
            "description": "[Optional] Used to pass data through the websocket, which may be retrieved via the `echo_req` output field.",
            "type": "object"
        },
        "req_id": {
            "description": "[Optional] Used to map request to response.",
            "type": "integer"
        }
    }
}
